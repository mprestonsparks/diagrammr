@startuml
title retrieve_code.py
# Get the latest commit from the repository
        head_commit = repo.head.commit
        # Convert the commit information to JSON format
        commit_json = json.dumps({"message": head_commit.message,
                                  "author": head_commit.author.name,
                                  "date": str(head_commit.authored_datetime)})
        logger.debug(f"Latest commit info: {commit_json}")

        # Return the repository object and commit info
        return repo, commit_json
    except git.GitCommandError:
        logger.error("Failed to clone repository. Please check the URL and try again.")
        return None, None
    except Exception as e:
        logger.error(f"An error occurred while cloning repository: {e}")
        return None, None


# Class diagram

@startuml

class git
class json
class os
class logging
class handlers

class repository {
    - repo_url : string
    - temp_dir : string
    - access_token : string
}
class commit {
    - message : string
    - author : string
    - date : string
}

logging -- handlers
handlers -- logging
handlers -- log_file

repository -- logging
repository -- git
commit -- json

@enduml